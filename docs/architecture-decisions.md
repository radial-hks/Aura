# æ¶æ„å†³ç­–è®°å½• (ADR)

æœ¬æ–‡æ¡£è®°å½•äº† Aura ç³»ç»Ÿçš„å…³é”®æ¶æ„å†³ç­–ï¼ŒåŒ…æ‹¬å†³ç­–èƒŒæ™¯ã€è€ƒè™‘å› ç´ ã€æœ€ç»ˆå†³ç­–å’Œå½±å“ã€‚

## ADR-001: æ··åˆæ™ºèƒ½æ¶æ„

**çŠ¶æ€**: å·²é‡‡çº³  
**æ—¥æœŸ**: 2024-01  
**å†³ç­–è€…**: æ¶æ„å›¢é˜Ÿ

### èƒŒæ™¯

éœ€è¦åœ¨AIçš„çµæ´»æ€§å’Œè„šæœ¬çš„å¯é æ€§ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ï¼Œæ—¢è¦å¤„ç†å¤æ‚çš„åŠ¨æ€åœºæ™¯ï¼Œåˆè¦ä¿è¯é«˜é¢‘æ“ä½œçš„ç¨³å®šæ€§ã€‚

### å†³ç­–

ä¿ç•™"AIåŠ¨æ€è§„åˆ’ + å›ºå®šè„šæœ¬"åŒæ¨¡å¼ï¼Œæ–°å¢ Orchestratorã€Policy Engineã€Skill Libraryã€Site Model Registryã€‚

### ç†ç”±

- **çµæ´»æ€§**: AIæ¨¡å¼å¤„ç†æœªçŸ¥å’Œå¤æ‚åœºæ™¯
- **å¯é æ€§**: è„šæœ¬æ¨¡å¼ä¿è¯å·²çŸ¥åœºæ™¯çš„ç¨³å®šæ‰§è¡Œ
- **å¯æ‰©å±•æ€§**: æ¨¡å—åŒ–è®¾è®¡ä¾¿äºåŠŸèƒ½æ‰©å±•
- **å¯ç»´æŠ¤æ€§**: æ¸…æ™°çš„èŒè´£åˆ†ç¦»

### åæœ

- âœ… æé«˜äº†ç³»ç»Ÿçš„æ‰©å±•æ€§å’Œé£é™©å¯æ§æ€§
- âœ… å…·å¤‡å¯æŒç»­è¿­ä»£çš„åŸºç¡€
- âŒ æ¶æ„å¤æ‚åº¦å¢åŠ 
- âŒ å¼€å‘å’Œç»´æŠ¤æˆæœ¬ä¸Šå‡

---

## ADR-002: Action Graph æ‰§è¡Œæ¨¡å‹

**çŠ¶æ€**: å·²é‡‡çº³  
**æ—¥æœŸ**: 2024-01  
**å†³ç­–è€…**: æŠ€æœ¯å›¢é˜Ÿ

### èƒŒæ™¯

éœ€è¦ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ¥è¡¨ç¤ºå’Œæ‰§è¡Œå¤æ‚çš„æµè§ˆå™¨æ“ä½œåºåˆ—ï¼Œç¡®ä¿æ“ä½œçš„å¯éªŒè¯æ€§ã€å¯é‡æ”¾æ€§å’Œå¯è¿ç§»æ€§ã€‚

### å†³ç­–

AI è¾“å‡ºå…ˆè½¬åŒ–ä¸º Action Graphï¼ˆDAGï¼‰ï¼Œå†æ‰§è¡Œã€‚

### ç†ç”±

- **å¯éªŒè¯æ€§**: æ‰§è¡Œå‰å¯ä»¥éªŒè¯æ“ä½œçš„åˆæ³•æ€§
- **å¯é‡æ”¾æ€§**: æ”¯æŒæ“ä½œçš„é‡å¤æ‰§è¡Œå’Œè°ƒè¯•
- **å¯è¿ç§»æ€§**: æ“ä½œåºåˆ—å¯ä»¥åœ¨ä¸åŒç¯å¢ƒé—´è¿ç§»
- **å¯è§‚æµ‹æ€§**: ä¾¿äºç›‘æ§å’Œåˆ†ææ‰§è¡Œè¿‡ç¨‹

### åæœ

- âœ… å½¢æˆäº†ç¨³å®šçš„æ‰§è¡ŒåŸºåº§
- âœ… æ”¯æŒå¤æ‚çš„æ“ä½œç¼–æ’
- âŒ éœ€è¦è®¾è®¡Schemaå’Œç¼–è¯‘å™¨
- âŒ å¢åŠ äº†ç³»ç»Ÿå¤æ‚åº¦

---

## ADR-003: æŠ€èƒ½åŒ… (Skill Pack) ç³»ç»Ÿ

**çŠ¶æ€**: å·²é‡‡çº³  
**æ—¥æœŸ**: 2024-01  
**å†³ç­–è€…**: äº§å“å›¢é˜Ÿ

### èƒŒæ™¯

å›ºå®šè„šæœ¬ç³»ç»Ÿéœ€è¦å‡çº§ï¼Œæ”¯æŒæ›´ä¸°å¯Œçš„å…ƒæ•°æ®ã€å‚æ•°éªŒè¯ã€æ–­è¨€æ£€æŸ¥å’Œå¯è§‚æµ‹æ€§ã€‚

### å†³ç­–

å›ºå®šè„šæœ¬ç³»ç»Ÿå‡çº§ä¸º Skill Packï¼ˆManifest + å‚æ•°Schema + æ–­è¨€ + å¯è§‚æµ‹æ€§ï¼‰ã€‚

### ç†ç”±

- **æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„æŠ€èƒ½åŒ…æ ¼å¼
- **å¯å¤ç”¨æ€§**: æŠ€èƒ½åŒ…å¯ä»¥è·¨é¡¹ç›®å¤ç”¨
- **è´¨é‡ä¿è¯**: å†…ç½®æ–­è¨€å’ŒéªŒè¯æœºåˆ¶
- **ç”Ÿæ€å»ºè®¾**: æ”¯æŒæŠ€èƒ½åŒ…çš„åˆ†äº«å’Œè¯„çº§

### åæœ

- âœ… å½¢æˆæ ‡å‡†åŒ–æŠ€èƒ½ç”Ÿæ€
- âœ… æé«˜æŠ€èƒ½åŒ…è´¨é‡
- âŒ éœ€è¦æ³¨å†Œä¸­å¿ƒä¸æ²‰æ·€æµæ°´çº¿
- âŒ å¢åŠ æŠ€èƒ½åŒ…å¼€å‘å¤æ‚åº¦

---

## ADR-004: Site Model Registry

**çŠ¶æ€**: å·²é‡‡çº³  
**æ—¥æœŸ**: 2024-01  
**å†³ç­–è€…**: æŠ€æœ¯å›¢é˜Ÿ

### èƒŒæ™¯

ç½‘ç«™ç»“æ„ç»å¸¸å˜åŒ–ï¼Œéœ€è¦ä¸€ç§æœºåˆ¶æ¥ç®¡ç†ç½‘ç«™æ¨¡å‹çš„ç‰ˆæœ¬åŒ–å’Œæ›´æ–°ï¼ŒæŠµæŠ—é€‰æ‹©å™¨æ¼‚ç§»é—®é¢˜ã€‚

### å†³ç­–

æ¢ç´¢ç»“æœå­˜å…¥æ¨¡å‹ä»“åº“ï¼ˆè¯­ä¹‰å®šä½ç¬¦+ç‰ˆæœ¬åŒ–ï¼‰ã€‚

### ç†ç”±

- **æŠ—æ¼‚ç§»**: è¯­ä¹‰å®šä½ç¬¦æ¯”CSSé€‰æ‹©å™¨æ›´ç¨³å®š
- **ç‰ˆæœ¬ç®¡ç†**: æ”¯æŒæ¨¡å‹çš„ç‰ˆæœ¬åŒ–å’Œå›æ»š
- **å¢é‡æ›´æ–°**: æ”¯æŒæ¨¡å‹çš„å¢é‡æ›´æ–°
- **å…±äº«å¤ç”¨**: æ¨¡å‹å¯ä»¥è·¨ä»»åŠ¡å¤ç”¨

### åæœ

- âœ… æŠ—é€‰æ‹©å™¨æ¼‚ç§»ï¼Œæé«˜ç¨³å®šæ€§
- âœ… æ”¯æŒå¢é‡æ›´æ–°ä¸å›æ»š
- âŒ éœ€è¦å­˜å‚¨ä¸TTLæ²»ç†
- âŒ å¢åŠ ç³»ç»Ÿå¤æ‚åº¦

---

## ADR-005: Policy & Risk Engine

**çŠ¶æ€**: å·²é‡‡çº³  
**æ—¥æœŸ**: 2024-01  
**å†³ç­–è€…**: å®‰å…¨å›¢é˜Ÿ

### èƒŒæ™¯

è‡ªåŠ¨åŒ–æ“ä½œå¯èƒ½æ¶‰åŠæ•æ„Ÿæ•°æ®å’Œé«˜é£é™©æ“ä½œï¼Œéœ€è¦å»ºç«‹å®‰å…¨é˜²æŠ¤æœºåˆ¶ã€‚

### å†³ç­–

é«˜é£é™©æ“ä½œå¼ºåˆ¶èµ°ç­–ç•¥å¼•æ“ï¼Œæ”¯æŒäººå·¥å®¡æ ¸å’Œå¤šå› å­è®¤è¯ã€‚

### ç†ç”±

- **å®‰å…¨åˆè§„**: æ»¡è¶³ä¼ä¸šå®‰å…¨è¦æ±‚
- **é£é™©æ§åˆ¶**: é˜²æ­¢æ¶æ„æˆ–é”™è¯¯æ“ä½œ
- **å®¡è®¡è·Ÿè¸ª**: å®Œæ•´çš„æ“ä½œå®¡è®¡æ—¥å¿—
- **çµæ´»é…ç½®**: æ”¯æŒä¸åŒçº§åˆ«çš„å®‰å…¨ç­–ç•¥

### åæœ

- âœ… ç¡®ä¿ç³»ç»Ÿå®‰å…¨åˆè§„
- âœ… é™ä½æ“ä½œé£é™©
- âŒ å¯èƒ½å¢åŠ äº¤äº’æ‘©æ“¦
- âŒ å¢åŠ ç³»ç»Ÿå¤æ‚åº¦

---

## ADR-006: Observability & Replay

**çŠ¶æ€**: å·²é‡‡çº³  
**æ—¥æœŸ**: 2024-01  
**å†³ç­–è€…**: è¿ç»´å›¢é˜Ÿ

### èƒŒæ™¯

éœ€è¦å®Œæ•´çš„å¯è§‚æµ‹æ€§æ”¯æŒï¼Œä¾¿äºé—®é¢˜è¯Šæ–­ã€æ€§èƒ½ä¼˜åŒ–å’Œåˆè§„å®¡è®¡ã€‚

### å†³ç­–

æ‰§è¡Œé“¾å…¨é‡æ—¥å¿—+æˆªå›¾+å›æ”¾ã€‚

### ç†ç”±

- **é—®é¢˜è¯Šæ–­**: è¯¦ç»†æ—¥å¿—ä¾¿äºé—®é¢˜å®šä½
- **æ€§èƒ½ä¼˜åŒ–**: æ€§èƒ½æ•°æ®æ”¯æŒç³»ç»Ÿä¼˜åŒ–
- **åˆè§„å®¡è®¡**: æ»¡è¶³å®¡è®¡è¦æ±‚
- **ç”¨æˆ·ä½“éªŒ**: å¯è§†åŒ–æ‰§è¡Œè¿‡ç¨‹

### åæœ

- âœ… è°ƒè¯•ä¸å®¡è®¡å‹å¥½
- âœ… æ”¯æŒæ€§èƒ½ä¼˜åŒ–
- âŒ å¢åŠ å­˜å‚¨æˆæœ¬
- âŒ å¯èƒ½å½±å“æ‰§è¡Œæ€§èƒ½

---

## ADR-007: MCP åè®®é›†æˆ

**çŠ¶æ€**: å·²é‡‡çº³  
**æ—¥æœŸ**: 2024-01  
**å†³ç­–è€…**: æ¶æ„å›¢é˜Ÿ

### èƒŒæ™¯

éœ€è¦ä¸å¤šç§å¤–éƒ¨æœåŠ¡å’Œå·¥å…·é›†æˆï¼ŒåŒ…æ‹¬æµè§ˆå™¨è‡ªåŠ¨åŒ–ã€æ–‡ä»¶ç³»ç»Ÿã€æœç´¢å¼•æ“ç­‰ã€‚

### å†³ç­–

é‡‡ç”¨ MCP (Model Context Protocol) ä½œä¸ºç»Ÿä¸€çš„é›†æˆåè®®ã€‚

### ç†ç”±

- **æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„åè®®æ¥å£
- **å¯æ‰©å±•æ€§**: æ˜“äºé›†æˆæ–°çš„æœåŠ¡
- **äº’æ“ä½œæ€§**: ä¸å…¶ä»–MCPå…¼å®¹ç³»ç»Ÿäº’é€š
- **ç¤¾åŒºæ”¯æŒ**: æ´»è·ƒçš„å¼€æºç¤¾åŒº

### åæœ

- âœ… ç»Ÿä¸€çš„é›†æˆæ¶æ„
- âœ… æ˜“äºæ‰©å±•æ–°åŠŸèƒ½
- âŒ ä¾èµ–å¤–éƒ¨åè®®æ ‡å‡†
- âŒ éœ€è¦å­¦ä¹ æ–°çš„åè®®

---

## ADR-008: å¾®æœåŠ¡æ¶æ„

**çŠ¶æ€**: è€ƒè™‘ä¸­  
**æ—¥æœŸ**: 2024-01  
**å†³ç­–è€…**: æ¶æ„å›¢é˜Ÿ

### èƒŒæ™¯

éšç€ç³»ç»ŸåŠŸèƒ½å¢åŠ ï¼Œå•ä½“æ¶æ„å¯èƒ½é¢ä¸´æ‰©å±•æ€§å’Œç»´æŠ¤æ€§æŒ‘æˆ˜ã€‚

### é€‰é¡¹

1. **ä¿æŒå•ä½“æ¶æ„**: ç®€å•ç›´æ¥ï¼Œé€‚åˆå½“å‰è§„æ¨¡
2. **å¾®æœåŠ¡æ¶æ„**: æ›´å¥½çš„æ‰©å±•æ€§ï¼Œä½†å¢åŠ å¤æ‚åº¦
3. **æ¨¡å—åŒ–å•ä½“**: æŠ˜ä¸­æ–¹æ¡ˆï¼Œä¿æŒå•ä½“ä½†æ¨¡å—åŒ–

### å½“å‰å€¾å‘

æ¨¡å—åŒ–å•ä½“æ¶æ„ï¼Œåœ¨ä¿æŒç®€å•æ€§çš„åŒæ—¶æä¾›è‰¯å¥½çš„æ¨¡å—åŒ–ã€‚

### å¾…å†³ç­–å› ç´ 

- å›¢é˜Ÿè§„æ¨¡å’ŒæŠ€æœ¯èƒ½åŠ›
- ç³»ç»Ÿè´Ÿè½½å’Œæ€§èƒ½è¦æ±‚
- éƒ¨ç½²å’Œè¿ç»´å¤æ‚åº¦

---

## ADR-009: æ•°æ®å­˜å‚¨ç­–ç•¥

**çŠ¶æ€**: å·²é‡‡çº³  
**æ—¥æœŸ**: 2024-01  
**å†³ç­–è€…**: æŠ€æœ¯å›¢é˜Ÿ

### èƒŒæ™¯

ç³»ç»Ÿéœ€è¦å­˜å‚¨å¤šç§ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬é…ç½®ã€æ—¥å¿—ã€æ¨¡å‹ã€ä¼šè¯ç­‰ã€‚

### å†³ç­–

é‡‡ç”¨å¤šå­˜å‚¨ç­–ç•¥ï¼š
- **SQLite/PostgreSQL**: ç»“æ„åŒ–æ•°æ®
- **Redis**: ç¼“å­˜å’Œä¼šè¯
- **æ–‡ä»¶ç³»ç»Ÿ**: å¤§æ–‡ä»¶å’Œæ—¥å¿—
- **å†…å­˜**: ä¸´æ—¶æ•°æ®

### ç†ç”±

- **æ€§èƒ½ä¼˜åŒ–**: ä¸åŒå­˜å‚¨é€‚åˆä¸åŒåœºæ™¯
- **æˆæœ¬æ§åˆ¶**: é¿å…è¿‡åº¦å·¥ç¨‹
- **ç®€å•æ€§**: å‡å°‘å¤–éƒ¨ä¾èµ–
- **å¯æ‰©å±•æ€§**: æ”¯æŒåç»­å‡çº§

### åæœ

- âœ… å¹³è¡¡æ€§èƒ½å’Œå¤æ‚åº¦
- âœ… é€‚åˆä¸åŒæ•°æ®ç±»å‹
- âŒ éœ€è¦ç®¡ç†å¤šç§å­˜å‚¨
- âŒ æ•°æ®ä¸€è‡´æ€§æŒ‘æˆ˜

---

## å†³ç­–åŸåˆ™

åœ¨åšæ¶æ„å†³ç­–æ—¶ï¼Œæˆ‘ä»¬éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š

1. **ç®€å•æ€§ä¼˜å…ˆ**: åœ¨æ»¡è¶³éœ€æ±‚çš„å‰æä¸‹é€‰æ‹©æœ€ç®€å•çš„æ–¹æ¡ˆ
2. **å¯æ‰©å±•æ€§**: è®¾è®¡è¦è€ƒè™‘æœªæ¥çš„æ‰©å±•éœ€æ±‚
3. **å¯ç»´æŠ¤æ€§**: ä»£ç å’Œæ¶æ„è¦æ˜“äºç†è§£å’Œç»´æŠ¤
4. **æ€§èƒ½å¹³è¡¡**: åœ¨æ€§èƒ½å’Œå¤æ‚åº¦ä¹‹é—´æ‰¾åˆ°å¹³è¡¡
5. **å®‰å…¨ç¬¬ä¸€**: å®‰å…¨è€ƒè™‘è´¯ç©¿æ•´ä¸ªè®¾è®¡è¿‡ç¨‹
6. **ç”¨æˆ·ä½“éªŒ**: æŠ€æœ¯å†³ç­–è¦æœåŠ¡äºç”¨æˆ·ä½“éªŒ

## å†³ç­–æµç¨‹

1. **é—®é¢˜è¯†åˆ«**: æ˜ç¡®éœ€è¦å†³ç­–çš„é—®é¢˜
2. **é€‰é¡¹åˆ†æ**: åˆ—å‡ºå¯èƒ½çš„è§£å†³æ–¹æ¡ˆ
3. **å½±å“è¯„ä¼°**: è¯„ä¼°æ¯ä¸ªé€‰é¡¹çš„å½±å“
4. **å›¢é˜Ÿè®¨è®º**: å›¢é˜Ÿå……åˆ†è®¨è®ºå’Œè¯„ä¼°
5. **å†³ç­–è®°å½•**: è®°å½•å†³ç­–å’Œç†ç”±
6. **å®šæœŸå›é¡¾**: å®šæœŸå›é¡¾å’Œè°ƒæ•´å†³ç­–

---

> ğŸ“– **ç›¸å…³æ–‡æ¡£**
> - [ç³»ç»Ÿæ¦‚è§ˆ](./system-overview.md)
> - [æŠ€æœ¯è§„èŒƒ](./technical-specifications.md)
> - [å¼€å‘æŒ‡å—](./development-guide.md)